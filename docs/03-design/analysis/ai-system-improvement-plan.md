# AI 系统改进计划

| 文档类型 | 创建日期 | 状态 |
| :--- | :--- | :--- |
| **改进计划** | 2026-01-22 | Active |

基于 [AI 系统深度分析报告](./ai-system-deep-analysis-2026-01.md) 的发现，制定以下改进计划。

---

## Sprint 1: 文档与测试补齐 (1 周)

### 任务清单

- [ ] **DOC-1**: 更新 ai-level-editor.md 工具数量为 19 个
- [ ] **DOC-2**: 添加深度思考模式章节到 ai-level-editor.md
- [ ] **DOC-3**: 更新 llm-configuration.md 添加 ReasonerModel 配置
- [ ] **DOC-4**: 更新 ai-chat-system.md 工具数量
- [ ] **TEST-1**: 添加深度思考流程端到端测试
- [ ] **TEST-2**: 添加 editOnlyMode 单元测试
- [ ] **TEST-3**: 添加多轮工具调用边界测试

### 验收标准

- 所有文档与代码一致
- 深度思考流程测试覆盖率 > 80%
- 所有测试通过

---

## Sprint 2: 用户体验增强 (2 周)

### 任务清单

- [ ] **UX-1**: 添加请求取消按钮
- [ ] **UX-2**: 配置化 MaxToolCallRounds
- [ ] **UX-3**: 深度思考进度指示器
- [ ] **UX-4**: 窗口大小可调整
- [ ] **UX-5**: 添加快捷指令系统 (/simple, /hard, /analyze)

### 验收标准

- 用户可取消进行中的请求
- 深度思考状态有清晰的进度反馈
- 快捷指令可用且有帮助提示

---

## Sprint 3: 核心功能增强 (3 周)

### 任务清单

- [ ] **FEAT-1**: 变更预览模式
  - AI 建议的变更先在预览层显示
  - 用户确认后再应用
  - 支持逐项确认/全部应用
- [ ] **FEAT-2**: 操作撤销
  - 记录 AI 操作前的关卡快照
  - 提供撤销 AI 操作功能
- [ ] **FEAT-3**: 对话导出
  - 导出为 Markdown 格式
  - 包含对话内容和执行的操作

### 验收标准

- 变更预览模式可用
- 撤销功能正常工作
- 对话可导出为 Markdown

---

## 长期路线图

### Q2 2026

- [ ] **多模态输入**: 支持上传截图，AI 识别并模仿布局
- [ ] **对话历史搜索**: 全文搜索历史对话
- [ ] **关卡模板库**: AI 可引用和修改模板

### Q3 2026

- [ ] **协作模式**: 多人实时协同编辑
- [ ] **版本对比**: 不同版本的关卡差异可视化
- [ ] **自动化测试**: AI 生成关卡的自动化质量检查

---

## 跟踪方式

- 每个任务创建 GitHub Issue
- Sprint Review 每周一次
- 使用 GitHub Projects 看板跟踪进度

---

## 相关文档

- [深度分析报告](./ai-system-deep-analysis-2026-01.md)
- [AI 关卡编辑器功能规格](../features/ai-level-editor.md)
- [LLM 配置指南](../../02-guides/llm-configuration.md)
